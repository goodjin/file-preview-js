# Root 智能体提示词优化测试

## 优化内容

### 1. 强化流程完整性
- 明确要求必须完成 3 个步骤：create_role → spawn_agent → send_message
- 添加"不能中途停止"的强调
- 提供具体的工具调用示例

### 2. 解决参数缺失问题
- 明确要求 create_role 必须提供 name 和 rolePrompt 参数
- 提供参数示例和格式要求
- 添加常见错误避免清单

### 3. 强化消息发送要求
- 明确步骤3必须执行 send_message
- 提供消息格式示例
- 强调澄清后的任务说明必须包含的内容

### 4. 添加执行检查清单
- 提供可验证的检查项
- 明确列出常见错误
- 强化流程的连贯性

## 预期效果

1. **解决岗位创建时参数为空的问题**
   - 明确要求提供 name 和 rolePrompt
   - 提供具体示例

2. **解决子智能体没有收到初始消息的问题**
   - 强制要求完成 send_message 步骤
   - 不允许中途停止工具调用

3. **提高 LLM 执行的一致性**
   - 提供清晰的步骤指导
   - 添加检查清单和错误避免提示

## 测试建议

重新启动系统，使用相同的测试用例：
"打开 gitee.com ，截图，遍历所有链接 打开 再截图。每个页面截图一次。"

检查：
1. create_role 是否提供了完整参数
2. spawn_agent 是否成功创建子智能体
3. send_message 是否发送了初始任务说明
4. 子智能体是否收到消息并开始工作