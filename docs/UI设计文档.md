# 文件预览系统 - UI设计文档

## 1. 设计原则

### 1.1 核心原则
- **简洁高效**：界面清晰，减少操作步骤，用户可以快速完成文件预览
- **一致性**：统一的视觉风格和交互模式，降低学习成本
- **渐进展示**：隐藏复杂概念，只展示当前需要的信息
- **反馈及时**：每个操作都有明确的视觉反馈
- **容错友好**：提供清晰的错误提示和恢复方案

### 1.2 设计目标
- 降低用户认知负担，首次使用即可上手
- 支持45种文件格式的统一预览体验
- 适配移动端和桌面端两种设备
- 大文件（100MB+）加载时的良好体验

## 2. 信息架构

### 2.1 页面结构
```
┌─────────────────────────────────────────┐
│              顶部导航栏                 │
├─────────────────────────────────────────┤
│                                         │
│                                         │
│              主预览区域                 │
│                                         │
│                                         │
├─────────────────────────────────────────┤
│            底部工具栏                   │
└─────────────────────────────────────────┘
```

### 2.2 功能分区
1. **顶部导航栏**：品牌标识、文件信息、全局操作
2. **主预览区域**：文件内容展示、预览容器
3. **底部工具栏**：预览控制（缩放、翻页等）、辅助功能

## 3. 页面布局设计

### 3.1 桌面端布局

#### 3.1.1 整体布局
- **屏幕适配**：最小宽度 1200px，最大宽度 1920px
- **布局比例**：
  - 顶部导航栏：60px 高度
  - 主预览区域：剩余空间（flex: 1）
  - 底部工具栏：56px 高度

#### 3.1.2 顶部导航栏
```
┌────────────────────────────────────────────────────────┐
│  Logo    文件名.xlsx (1.2MB)        [全屏] [下载] [关闭] │
└────────────────────────────────────────────────────────┘
```

**组件说明**：
- Logo区域：系统标识（左侧，120px）
- 文件信息区：显示文件名和文件大小（居中，flex: 1）
- 操作按钮区：全屏、下载、关闭等（右侧，180px）

#### 3.1.3 主预览区域
```
┌────────────────────────────────────────────────────────┐
│                                                        │
│                                                        │
│                    预览内容区域                        │
│              (自适应内容，居中显示)                     │
│                                                        │
│                                                        │
└────────────────────────────────────────────────────────┘
```

**布局规范**：
- 内容居中显示
- 根据文件类型自动调整预览方式
- 留出足够边距（最小 20px）

#### 3.1.4 底部工具栏
```
┌────────────────────────────────────────────────────────┐
│  [-] 缩放 100% [+]    [上一页] 第 5/20 页 [下一页]     │
└────────────────────────────────────────────────────────┘
```

**组件说明**：
- 缩放控制：减号按钮、缩放比例显示、加号按钮（左侧）
- 页面控制：上一页、页码显示、下一页（居中）
- 附加功能：根据文件类型动态显示（右侧）

### 3.2 移动端布局

#### 3.2.1 整体布局
- **屏幕适配**：最小宽度 320px，最大宽度 768px
- **布局特点**：
  - 紧凑型设计，减少垂直空间占用
  - 操作按钮适配触摸操作
  - 支持横屏/竖屏自适应

#### 3.2.2 顶部导航栏（移动端）
```
┌────────────────────────────┐
│  Logo  文件名.xlsx [≡]     │
└────────────────────────────┘
```

**移动端调整**：
- 文件名截断显示（最多 20 字符）
- 操作按钮折叠到菜单（≡）
- 高度调整为 56px

#### 3.2.3 主预览区域（移动端）
- 占满剩余空间
- 支持手势操作（双指缩放、滑动翻页）
- 内容自适应屏幕宽度

#### 3.2.4 底部工具栏（移动端）
```
┌────────────────────────────┐
│  [▬]  100%  [▬]  5/20      │
└────────────────────────────┘
```

**移动端调整**：
- 操作按钮尺寸增大（44px × 44px）
- 精简功能，只保留核心控制
- 高度调整为 64px

## 4. 视觉风格设计

### 4.1 色彩系统

#### 4.1.1 主色调
- **品牌蓝**：#3B82F6（主要按钮、高亮元素）
- **品牌蓝深**：#2563EB（hover 状态）
- **品牌蓝浅**：#93C5FD（背景装饰）

#### 4.1.2 中性色
- **文字主色**：#1F2937（主要文字）
- **文字次色**：#6B7280（次要文字）
- **文字辅助**：#9CA3AF（提示文字）
- **边框色**：#E5E7EB（分割线、边框）
- **背景色**：#FFFFFF（主背景）
- **次级背景**：#F9FAFB（区域背景）

#### 4.1.3 功能色
- **成功色**：#10B981（成功提示）
- **警告色**：#F59E0B（警告提示）
- **错误色**：#EF4444（错误提示）
- **信息色**：#3B82F6（信息提示）

### 4.2 字体系统

#### 4.2.1 字体族
- **中文主字体**：PingFang SC, Microsoft YaHei, -apple-system, sans-serif
- **英文主字体**：Inter, -apple-system, BlinkMacSystemFont, sans-serif
- **等宽字体**：Monaco, Consolas, monospace（代码、数据）

#### 4.2.2 字号规范
- **大标题**：24px / 1.2（页面标题）
- **中标题**：20px / 1.3（区块标题）
- **小标题**：16px / 1.4（卡片标题）
- **正文**：14px / 1.5（普通文字）
- **辅助文字**：12px / 1.5（提示文字）

#### 4.2.3 字重规范
- **常规**：400（正文）
- **中等**：500（次标题）
- **加粗**：600（主标题、按钮）

### 4.3 间距系统

#### 4.3.1 基础间距单位
- **xs**：4px
- **sm**：8px
- **md**：16px
- **lg**：24px
- **xl**：32px

#### 4.3.2 间距使用场景
- **xs (4px)**：图标与文字间距
- **sm (8px)**：相关元素间间距
- **md (16px)**：模块内元素间距
- **lg (24px)**：模块间间距
- **xl (32px)**：页面区块间距

### 4.4 圆角系统
- **小圆角**：4px（按钮、小标签）
- **中圆角**：8px（卡片、输入框）
- **大圆角**：12px（对话框、大卡片）
- **超大圆角**：16px（图片、特殊容器）

### 4.5 阴影系统
- **浅阴影**：0 1px 2px rgba(0, 0, 0, 0.05)（hover 效果）
- **标准阴影**：0 4px 6px rgba(0, 0, 0, 0.07)（卡片）
- **深阴影**：0 10px 15px rgba(0, 0, 0, 0.1)（弹窗、浮层）

## 5. UI组件规范

### 5.1 按钮组件

#### 5.1.1 主要按钮（Primary Button）
```
尺寸：40px 高度，padding: 0 24px
圆角：6px
背景色：#3B82F6
文字色：#FFFFFF
字体：14px / 中等
```

**状态变化**：
- Normal: #3B82F6
- Hover: #2563EB
- Active: #1D4ED8
- Disabled: #9CA3AF

#### 5.1.2 次要按钮（Secondary Button）
```
尺寸：40px 高度，padding: 0 24px
圆角：6px
背景色：#FFFFFF
边框：1px solid #E5E7EB
文字色：#1F2937
字体：14px / 中等
```

**状态变化**：
- Normal: 白色背景 + #E5E7EB 边框
- Hover: #F9FAFB 背景 + #3B82F6 边框
- Active: #F3F4F6 背景

#### 5.1.3 图标按钮（Icon Button）
```
尺寸：36px × 36px
圆角：6px
背景色：透明（hover 时 #F3F4F6）
文字色：#6B7280
```

**状态变化**：
- Normal: 透明背景 + #6B7280
- Hover: #F3F4F6 背景 + #1F2937
- Active: #E5E7EB 背景

### 5.2 输入框组件

#### 5.2.1 标准输入框
```
尺寸：40px 高度，padding: 0 12px
圆角：6px
边框：1px solid #E5E7EB
文字色：#1F2937
占位符：#9CA3AF
```

**状态变化**：
- Normal: #E5E7EB 边框
- Focus: #3B82F6 边框 + 外部光晕
- Error: #EF4444 边框
- Disabled: #F3F4F6 背景 + #9CA3AF 文字

### 5.3 工具提示（Tooltip）
```
最大宽度：200px
背景色：#1F2937
文字色：#FFFFFF
圆角：4px
内边距：8px 12px
文字大小：12px
箭头大小：6px
```

**使用场景**：
- 功能按钮说明
- 文件元数据提示
- 加载状态说明

### 5.4 加载状态组件

#### 5.4.1 加载动画
```
尺寸：32px × 32px
颜色：#3B82F6
动画：旋转（2s 一圈）
```

#### 5.4.2 加载进度条
```
高度：4px
背景色：#E5E7EB
进度色：#3B82F6
圆角：2px
```

**进度信息**：
- 显示百分比（如 "正在加载... 65%"）
- 显示文件大小（如 "1.2MB / 8.5MB"）

#### 5.4.3 大文件加载提示
```
格式：
┌──────────────────────────────┐
│  📊 文件较大，正在加载...    │
│  ████████░░░░░░░░░  45%      │
│  12.5MB / 28.0MB             │
└──────────────────────────────┘
```

### 5.5 文件类型标识组件

#### 5.5.1 文件类型图标
```
尺寸：48px × 48px（大）、24px × 24px（小）
圆角：8px
背景色：根据文件类型自动匹配
图标色：#FFFFFF
```

#### 5.5.2 文件类型配色
- **Office 类**：#D04424（红色系）
- **PDF 类**：#F40F02（深红色）
- **文档类**：#2D56B1（蓝色系）
- **图片类**：#10B981（绿色系）
- **音视频类**：#8B5CF6（紫色系）
- **压缩包类**：#F59E0B（橙色系）
- **其他类**：#6B7280（灰色系）

### 5.6 提示信息组件

#### 5.6.1 成功提示
```
背景色：#D1FAE5
文字色：#065F46
图标：✓
```

#### 5.6.2 警告提示
```
背景色：#FEF3C7
文字色：#92400E
图标：⚠
```

#### 5.6.3 错误提示
```
背景色：#FEE2E2
文字色：#991B1B
图标：✕
```

## 6. 响应式设计规范

### 6.1 断点定义
- **移动端**：320px - 767px
- **平板**：768px - 1023px
- **桌面端**：1024px - 1439px
- **大屏**：1440px+

### 6.2 响应式策略

#### 6.2.1 布局响应
- **320-767px（移动端）**：
  - 单列布局
  - 操作按钮折叠
  - 触摸优化（最小点击区域 44px）

- **768-1023px（平板）**：
  - 双列布局（部分场景）
  - 操作按钮简化
  - 保留桌面核心功能

- **1024px+（桌面端）**：
  - 完整功能布局
  - 全部操作按钮显示
  - 优化鼠标交互

#### 6.2.2 字体响应
- **移动端**：基准字号 14px，最大 16px
- **平板**：基准字号 15px，最大 18px
- **桌面端**：基准字号 16px，最大 20px

#### 6.2.3 间距响应
- **移动端**：间距缩小 20%
- **平板**：正常间距
- **桌面端**：间距增大 10%

### 6.3 横屏适配

#### 6.3.1 移动端横屏
- 顶部导航栏高度：48px（竖屏 56px）
- 底部工具栏高度：48px（竖屏 64px）
- 主预览区域利用增加的宽度

#### 6.3.2 平板横屏
- 启用桌面端部分布局（如左右分栏）
- 工具栏横向展开

## 7. 无障碍设计

### 7.1 键盘导航
- Tab 键：焦点在可交互元素间切换
- 方向键：在列表/选项中移动
- Enter/Space：激活当前焦点元素
- Esc：关闭弹窗、退出全屏

### 7.2 屏幕阅读器支持
- 为所有图标添加 aria-label
- 为图片添加 alt 描述
- 为表单元素关联 label
- 提供页面标题和区域标题

### 7.3 对比度要求
- 文字对比度：至少 4.5:1（正常文字）
- 大文字对比度：至少 3:1（18px+）
- 非文字元素对比度：至少 3:1

## 8. 动画与过渡效果

### 8.1 动画原则
- **快速响应**：动画时长 ≤ 300ms
- **流畅自然**：使用 ease-in-out 缓动
- **适度使用**：避免过多动画分散注意力

### 8.2 过渡效果

#### 8.2.1 按钮过渡
```css
transition: all 0.2s ease-in-out;
```

#### 8.2.2 页面切换
```css
transition: opacity 0.3s ease-in-out;
```

#### 8.2.3 缩放控制
```css
transition: transform 0.3s ease-in-out;
```

### 8.3 特殊效果

#### 8.3.1 加载动画
- 文件类型图标：旋转动画
- 进度条：平滑填充

#### 8.3.2 交互反馈
- 点击按钮：轻微缩放（0.98）
- Hover 效果：轻微上浮（translateY -2px）

## 9. 性能优化设计

### 9.1 视觉性能优化
- 使用 CSS 渐变替代图片背景
- SVG 图标优先于 PNG
- 使用系统字体减少加载时间
- 延迟加载非关键资源

### 9.2 大文件预览优化
- **分块加载**：显示加载进度条
- **占位提示**：显示文件类型和基本信息
- **骨架屏**：内容区域显示加载骨架
- **分页展示**：支持分页查看（文档类）

### 9.3 图片预览优化
- **懒加载**：滚动到可视区域才加载
- **缩略图**：优先加载低分辨率版本
- **自适应质量**：根据设备屏幕调整

## 10. 浏览器兼容性

### 10.1 支持的浏览器
- **Chrome**：90+（推荐）
- **Firefox**：88+
- **Safari**：14+
- **Edge**：90+

### 10.2 降级方案
- **旧版浏览器**：简化动画效果
- **不支持特性**：提供替代方案
- **移动浏览器**：限制复杂交互

---

**文档版本**: 1.0  
**编写日期**: 2024  
**设计师**: 文件预览系统UX设计师